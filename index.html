<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convite de Ano Novo - Gala 3D Edition</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">

    <!-- Importando Fontes Elegantes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Pinyon+Script&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="css/main.css">
</head>

<body>

    <!-- Canvas para Fundo (Estrelas, Fogos, Rastro) -->
    <canvas id="bg-canvas"></canvas>

    <!-- Botão de Som -->
    <div class="audio-control" id="audio-btn" title="Ligar/Desligar Efeitos Sonoros">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="icon-speaker">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
            <line x1="23" y1="9" x2="17" y2="15"></line>
            <line x1="17" y1="9" x2="23" y2="15"></line>
        </svg>
    </div>

    <div id="countdown-container">
        <!-- Countdown injectado via JS -->
    </div>

    <!-- Cena 3D -->
    <main class="scene" id="scene">
        <div class="envelope" id="envelope">

            <div class="envelope-back"></div>

            <div class="card" id="card">
                <div class="full-letter" id="full-letter-content">
                    <h1>Feliz Ano Novo!</h1>
                    <p>Que o próximo ano traga novas oportunidades, alegrias e conquistas. Brilhe muito em 2025!</p>
                </div>
                <div class="letter-preview" id="letter-preview">
                    <div class="letter-header">
                        <span id="recipient-title" style="font-weight: bold; color: var(--gold-dark);">Feliz Ano
                            Novo!</span>
                    </div>
                    <div class="letter-body-preview">
                        Que o próximo ano traga novas oportunidades...
                    </div>
                </div>
            </div>

            <div class="envelope-pocket">
                <!-- Camada Holográfica (Foil) -->
                <div class="foil-layer" id="foil-layer"></div>
            </div>

            <!-- Aba do Envelope -->
            <div class="envelope-flap">
                <div class="wax-seal">26</div>
            </div>
        </div>
        <div class="hint-text" id="hint-text">Mova o mouse para efeito 3D • Toque para abrir</div>
    </main>

    <!-- Overlay de Leitura -->
    <div class="reading-overlay" id="reading-overlay">
        <div class="close-btn" id="close-letter">×</div>

        <!-- Zoom Container Wrapper -->
        <div class="zoom-container" id="zoom-container">
            <div class="full-letter" id="full-letter-content">
                <div class="ornament-top">✦ ✧ ✦</div>
                <h1 class="gold-text" id="recipient-title">Feliz Ano Novo</h1>
                <p>
                    Que as luzes deste novo ciclo iluminem seus caminhos com prosperidade, saúde e momentos
                    inesquecíveis.
                </p>
                <p>
                    Este é o começo de uma jornada extraordinária. Agradeço por fazer parte da minha história.
                </p>
                <p style="font-style: italic; font-size: 0.9em; opacity: 0.8;">
                    "O futuro pertence àqueles que acreditam na beleza de seus sonhos."
                </p>
                <div class="ornament-bottom">✦ ✧ ✦</div>
                <div class="signature">Com carinho.</div>
            </div>
        </div>

        <!-- Controles de Zoom -->
        <div class="zoom-controls">
            <button class="zoom-btn" id="zoom-out" title="Diminuir">－</button>
            <input type="range" id="zoom-slider" min="0.5" max="1.5" step="0.05" value="1">
            <button class="zoom-btn" id="zoom-in" title="Aumentar">＋</button>
        </div>
    </div>

    <!-- Footer com Botão de Criação -->
    <div class="footer-bar">
        <button id="open-creator-btn" class="footer-btn">
            <span>✎</span> Criar o seu
        </button>
    </div>

    <!-- Modal do Criador -->
    <div id="creator-modal" class="creator-modal">
        <div class="creator-content">
            <div class="creator-header">
                <h2>Crie seu Convite</h2>
                <button id="close-creator-btn" class="close-modal-btn">×</button>
            </div>

            <div class="creator-body">
                <div class="input-group">
                    <label>Para quem é?</label>
                    <input type="text" id="input-name" placeholder="Ex: Maria, Amor, Família...">
                </div>

                <div class="input-group">
                    <label>Mensagem da Carta</label>
                    <textarea id="input-msg" placeholder="Escreva sua mensagem especial aqui..."></textarea>
                </div>

                <div class="row-group">
                    <div class="input-group">
                        <label>Cor Envelope</label>
                        <div class="color-picker-wrapper">
                            <input type="color" id="input-color" value="#1c2b45">
                            <span id="color-hex">#1c2b45</span>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Selo (Máx 3)</label>
                        <input type="text" id="input-badge" maxlength="3" placeholder="26" value="26">
                    </div>
                </div>

                <div class="creator-actions">
                    <button id="generate-btn" class="action-btn primary">Gerar Link</button>
                </div>

                <!-- Área de Resultado (Link Gerado) -->
                <div class="result-area hidden" id="result-area">
                    <div class="input-group">
                        <label>Seu Link Personalizado:</label>
                        <div class="link-display">
                            <input type="text" id="share-link" readonly>
                            <button id="copy-btn">Copiar</button>
                        </div>
                    </div>
                    <button class="whatsapp-btn" id="whatsapp-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z" />
                        </svg>
                        Enviar no WhatsApp
                    </button>

                    <!-- Doação Voluntary -->
                    <div class="donation-area">
                        <p class="donation-text">Gostou? Apoie o projeto com um café ☕ (Opcional)</p>
                        <button id="pix-btn" class="pix-btn" data-key="raillen@site.com">
                            <span>Chave PIX: raillen@site.com</span>
                            <svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                        <span id="pix-copied-msg" class="tooltip">Chave copiada!</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>